units metal
atom_style atomic
read_data tungsten.data

pair_style	uf3 3
pair_coeff	* * ./W.uf3 W
            
# Define thermo output
thermo          100
thermo_style    custom step temp pe etotal press vol

# Minimization (relax atoms and box)
reset_timestep  0
fix 1 all box/relax iso 0.0 vmax 0.001
min_style       cg
minimize        1.0e-10 1.0e-10 10000 100000
unfix           1

# Equilibration at 3000 K
velocity        all create 6000.0 12345 mom yes rot no dist gaussian
fix             equil all npt temp 3000.0 3000.0 0.1 iso 0.0 0.0 1.0
run             2000
unfix           equil

# Temperature ramp from 3000K to 5000K
timestep        0.001

# Write atomic positions every 100 steps
dump            1 all custom 100 dump.relax_heat.lammpstrj id type x y z
dump_modify     1 sort id
            
fix             2 all npt temp 3000 5000.0 0.1 iso 0.0 0.0 1.0
run             50000
unfix           2
                       
